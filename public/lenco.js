const l='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta http-equiv="X-UA-Compatible" content="ie=edge"> <title>Pay with Lenco Loader</title> <style> .app-loader { margin: 200px 0; text-align: center; color: white; } @keyframes app-loader__spinner { 0% { opacity: 1; } 100% { opacity: 0; } } @-webkit-keyframes app-loader__spinner { 0% { opacity: 1; } 100% { opacity: 0; } } .app-loader__spinner { position: relative; display: inline-block; } .app-loader__spinner div { left: 95px; top: 35px; position: absolute; -webkit-animation: app-loader__spinner linear 1s infinite; animation: app-loader__spinner linear 1s infinite; background: white; width: 10px; height: 30px; border-radius: 40%; -webkit-transform-origin: 5px 65px; transform-origin: 5px 65px; } .app-loader__spinner div:nth-child(1) { -webkit-transform: rotate(0deg); transform: rotate(0deg); -webkit-animation-delay: -0.916666666666667s; animation-delay: -0.916666666666667s; } .app-loader__spinner div:nth-child(2) { -webkit-transform: rotate(30deg); transform: rotate(30deg); -webkit-animation-delay: -0.833333333333333s; animation-delay: -0.833333333333333s; } .app-loader__spinner div:nth-child(3) { -webkit-transform: rotate(60deg); transform: rotate(60deg); -webkit-animation-delay: -0.75s; animation-delay: -0.75s; } .app-loader__spinner div:nth-child(4) { -webkit-transform: rotate(90deg); transform: rotate(90deg); -webkit-animation-delay: -0.666666666666667s; animation-delay: -0.666666666666667s; } .app-loader__spinner div:nth-child(5) { -webkit-transform: rotate(120deg); transform: rotate(120deg); -webkit-animation-delay: -0.583333333333333s; animation-delay: -0.583333333333333s; } .app-loader__spinner div:nth-child(6) { -webkit-transform: rotate(150deg); transform: rotate(150deg); -webkit-animation-delay: -0.5s; animation-delay: -0.5s; } .app-loader__spinner div:nth-child(7) { -webkit-transform: rotate(180deg); transform: rotate(180deg); -webkit-animation-delay: -0.416666666666667s; animation-delay: -0.416666666666667s; } .app-loader__spinner div:nth-child(8) { -webkit-transform: rotate(210deg); transform: rotate(210deg); -webkit-animation-delay: -0.333333333333333s; animation-delay: -0.333333333333333s; } .app-loader__spinner div:nth-child(9) { -webkit-transform: rotate(240deg); transform: rotate(240deg); -webkit-animation-delay: -0.25s; animation-delay: -0.25s; } .app-loader__spinner div:nth-child(10) { -webkit-transform: rotate(270deg); transform: rotate(270deg); -webkit-animation-delay: -0.166666666666667s; animation-delay: -0.166666666666667s; } .app-loader__spinner div:nth-child(11) { -webkit-transform: rotate(300deg); transform: rotate(300deg); -webkit-animation-delay: -0.083333333333333s; animation-delay: -0.083333333333333s; } .app-loader__spinner div:nth-child(12) { -webkit-transform: rotate(330deg); transform: rotate(330deg); -webkit-animation-delay: 0s; animation-delay: 0s; } .app-loader__spinner { width: 40px; height: 40px; -webkit-transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px); transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px); } </style> </head> <body> <div id="app-loader" class="app-loader"> <div id="spinner" class="app-loader__spinner"> <div></div><div></div><div></div><div></div><div></div><div></div><div> </div><div></div><div></div><div></div><div></div><div></div> </div> </div> </body> </html>',p="z-index: 999999999999999;background: transparent;border: 0px none transparent;overflow-x: hidden;overflow-y: hidden;margin: 0;padding: 0;-webkit-tap-highlight-color: transparent;-webkit-touch-callout: none;position: fixed;left: 0;top: 0;width: 100%;height: 100%;visibility:hidden;",r="lenco-pay";function d(t,i,e){if(document.getElementById(t))return;const a=document.createElement("iframe");return a.setAttribute("frameBorder","0"),a.setAttribute("allowtransparency","true"),e&&a.setAttribute("allowpaymentrequest","true"),a.id=t,a.style.display="none",a.style.cssText=p+i,a}function c(){const t=r+"-bg",i=d(t,"background: rgba(0, 0, 0, 0.75);transition: opacity 0.3s;-webkit-transition: opacity 0.3s;",!1);if(!i)return;document.body.appendChild(i);const e=i.contentWindow.document;return e.open(),e.write(l),e.close(),i.style.visibility="visible",i.style.display="block",i}function o(t){return String(t).replace(/\/+$/,"")}const s=o("https://pay.lenco.co"),m=o("https://pay.lenco.co/popup"),h=`${m}?origin=${window.location.origin}`;class n{constructor(i){this.options=i,this.createBackground(),this.createIFrame(),this.onMessageHandler=this.receiveMessage.bind(this),window.addEventListener("message",this.onMessageHandler,!1)}static getPaid(i){this.instance||(this.instance=new n(i))}createBackground(){this.background=c()}createIFrame(){const i=r+"-iframe";this.iframe=d(i,"",!0),this.iframe&&(this.iframe.src=h,document.body.appendChild(this.iframe))}receiveMessage(i){if(o(i.origin)===s)try{const e=i.data;if(e.type)switch(e.type){case"lenco:app-loaded":this.appLoaded();break;case"lenco:app-initialized":this.appInitialized();break;case"lenco:close":this.close();break;case"callback:close":this.options&&this.options.onClose&&this.options.onClose();break;case"callback:success":this.options&&this.options.onSuccess&&e.data&&this.options.onSuccess(e.data);break;case"callback:confirmation-pending":this.options&&this.options.onConfirmationPending&&this.options.onConfirmationPending();break}}catch(e){}}postMessage(i,e){this.iframe.contentWindow.postMessage({type:i,data:e},s)}appLoaded(){const i={key:this.options.key,email:this.options.email,reference:this.options.reference,amount:Number(this.options.amount),currency:this.options.currency||void 0,label:this.options.label||void 0,bearer:this.options.bearer||void 0,channels:this.options.channels||void 0,customer:this.options.customer?{firstName:this.options.customer.firstName||void 0,lastName:this.options.customer.lastName||void 0,phone:this.options.customer.phone||void 0}:void 0,billing:this.options.billing?{streetAddress:this.options.billing.streetAddress||void 0,city:this.options.billing.city||void 0,state:this.options.billing.state||void 0,postalCode:this.options.billing.postalCode||void 0,country:this.options.billing.country||void 0}:void 0};this.postMessage("initialize",i)}appInitialized(){if(this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.display="block"),this.background){const e=this.background.contentWindow.document.getElementById("app-loader");e&&e.parentNode&&e.parentNode.removeChild(e)}}close(){this.iframe&&this.iframe.parentElement.removeChild(this.iframe),this.background&&this.background.parentElement.removeChild(this.background),this.iframe=void 0,this.background=void 0,window.removeEventListener("message",this.onMessageHandler,!1),this.onMessageHandler=void 0,n.instance=void 0}}window.LencoPay={getPaid:function(t){n.getPaid(t)}};